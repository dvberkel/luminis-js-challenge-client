/*! luminis-js-challenge-client - v0.0.0 - 2013-04-06
* Copyright (c) 2013 ; Licensed  */
Luminis=function(){"use strict";return{version:"0.0.0"}}(),function(e,t,n,i){"use strict";var r=/\w+\s+(\w{3})\s+(\d{2})\s+(\d{4})\s+(\d{2}):(\d{2}):(\d{2})/,a={Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12"},s=n.Model.extend({defaults:{id:0,timestamp:"Thu Apr 11 2013 18:00:00 GMT+0000 (UTC)",sender:"Anonymous",content:"Eschew obfuscation.",receiver:"?"},startDate:function(){var e=this.get("timestamp"),t=r.exec(e);return{month:a[t[1]],day:t[2],year:t[3],hour:t[4],minutes:t[5],seconds:t[6]}},endDate:function(){var e=this.startDate();return e.minutes=e.minutes+1,e}}),u=n.Collection.extend({model:s,comparator:function(e){return e.get("id")},setReceiverTo:function(e){this.each(function(t){t.set("receiver",e)})}});i.Message=s,i.Messages=u}(jQuery,_,Backbone,Luminis),function(e,t){var n=function(e){return(e||"").split("?")[1]||""},i=function(e){return e.split("&")},r=function(t){var r={};return e.each(i(n(t)),function(e){var t=e.split("=");r[t[0]]=t[1]}),r},a=function(e){var t=r(e);this.get=function(e){return t[e]}},s=function(e){return new a(e)};t.from=s}(_,Luminis),function(e,t,n,i){"use strict";var r=t.template("<%= year %>,<%= month %>,<%= day %>,<%= hour %>,<%= minutes %>"),a=n.View.extend({initialize:function(){this.model.on("add",this.render,this),this.render()},render:function(){this.$el.empty(),createStoryJS({type:"timeline",width:"800",height:"600",source:this.timelineSource(),embed_id:this.el.id})},timelineSource:function(){return{timeline:{headline:"JavaScript Challenge",type:"default",text:"Sort out your semi-colons",date:this.dates()}}},dates:function(){var e=[{startDate:"2013,04,11,18,00",endDate:"2013,04,11,18,01",headline:"Challenge Finale Start",text:"Start your engines!"},{startDate:"2013,04,11,22,00",endDate:"2013,04,11,22,01",headline:"Challenge Finale End",text:"Time to wrap up!"}];return this.model.each(function(t){e.push({startDate:r(t.model.startDate()),endDate:r(t.model.endDate()),headline:t.get("sender"),text:t.get("content")})}),e}});i.TimeLineView=a}(jQuery,_,Backbone,Luminis);